<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Add Watch</title>
    <link rel="shortcut icon" type="image/png" href="../assets/images/logos/favicon.png" />
    <link rel="stylesheet" href="../assets/css/styles.min.css" />

    <style>
        /* Style the select elements */
        .custom-select {
            position: relative;
            width: 100%;
        }

        /* Hide the default arrow and create a custom dropdown arrow */
        .custom-select select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background: transparent;
            padding-right: 1em;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
            background-repeat: no-repeat;
            background-position: right 0.7em top 50%;
            background-size: 1.5em auto;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 12px;
            line-height: 2;
            padding: 0.375rem 1.75rem 0.375rem 0.75rem;
            -webkit-transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
    </style>

    <style>
        .customizations-content {
            display: flex;
            flex-wrap: wrap;
            /* Allow items to wrap onto multiple lines */
            justify-content: space-between;
            /* Distribute items evenly along the main axis */
            align-items: flex-start;
            /* Align items at the start of the cross axis */
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease;
        }

        .customizations-content>div {
            width: calc(32% - 10px);
            /* Set width for each item with margin */
            margin: 5px;
            /* Add margin for spacing between items */
        }

        .customizations {
            margin-top: 20px;
            margin-bottom: 30px;
            border-bottom: 1px solid #E1E8EE;
            width: 90%;
            margin-left: 5%;

            border: 1px solid #ccc;
            /* Add border to create the box effect */
            padding: 7px;
            /* Add padding for spacing */
            margin-bottom: 5px;
            /* Add margin for spacing between boxes */

        }

        .customization-header {
            cursor: pointer;
            /* Set cursor to pointer to indicate clickable */
            display: flex;
            /* Use flexbox for layout */
            justify-content: space-between;
            /* Align items to each end */
            align-items: center;
            /* Align items vertically */
        }

        .expand-btn {
            font-size: 24px;
            /* Adjust the font size as needed */
            font-weight: bold;
            /* Make the symbol bold */
        }
    </style>

</head>

<body>
    <!--  Body Wrapper -->
    <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
        data-sidebar-position="fixed" data-header-position="fixed">
        <!-- Sidebar Start -->
        <aside class="left-sidebar">
            <!-- Sidebar scroll-->
            <div>
                <div class="brand-logo d-flex align-items-center justify-content-between">
                    <a href="./products.html" class="text-nowrap logo-img">
                        <img src="../assets/images/logos/favicon.png" width="180" alt="" />
                    </a>
                    <div class="close-btn d-xl-none d-block sidebartoggler cursor-pointer" id="sidebarCollapse">
                        <i class="ti ti-x fs-8"></i>
                    </div>
                </div>
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
                    <ul id="sidebarnav">
                        <li class="nav-small-cap">
                            <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
                            <span class="hide-menu">Home</span>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./products.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-layout-dashboard"></i>
                                </span>
                                <span class="hide-menu">Products</span>
                            </a>
                        </li>
                        <li class="nav-small-cap">
                            <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
                            <span class="hide-menu">Menu</span>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./profile.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-article"></i>
                                </span>
                                <span class="hide-menu">Profile</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./orders.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-alert-circle"></i>
                                </span>
                                <span class="hide-menu">Orders</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./feedback.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-cards"></i>
                                </span>
                                <span class="hide-menu">Feedback</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./ratings.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-file-description"></i>
                                </span>
                                <span class="hide-menu">Ratings</span>
                            </a>
                        </li>

                        <li class="nav-small-cap">
                            <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
                            <span class="hide-menu">Settings</span>
                        </li>
                        <li class="sidebar-item">

                            <a class="sidebar-link" href="./change-logo.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-settings"></i>
                                </span>
                                <span class="hide-menu">Settings</span>
                            </a>

                            <a class="sidebar-link" href="./add-offer.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-file-description"></i>
                                </span>
                                <span class="hide-menu">Offers</span>
                            </a>

                            <a class="sidebar-link" href="./login.html" aria-expanded="false">
                                <span>
                                    <i class="ti ti-login"></i>
                                </span>
                                <span class="hide-menu">Logout</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!--  Sidebar End -->
        <!--  Main wrapper -->
        <div class="body-wrapper">
            <div>
                <div class="card">
                    <div class="card-body">
                        <h2 style="width: 100%; text-align: center;">Add Watch with Combo's</h2>
                        <div class="card">
                            <div class="card-body">

                                <!--Form Starting Here-->
                                <form>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="row">
                                                <div class="container">
                                                    <div class="row" style="margin-top: 2%;">
                                                        

                                                            <div class="col-sm-12">
                                                                <!-- start8 -->
                                                                <div class="row">
                                                                    <h5>Select Combo 8</h5>
                                                                    <div class="col-3" style="margin-top: 10px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="dial"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select class="form-control dial_dropdown"
                                                                                id="dial_dropdown">
                                                                                <option value="0">Dials</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-3" style="margin-top: 10px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="strap"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select class="form-control strap_dropdown"
                                                                                id="strap_dropdown">
                                                                                <option value="0">Straps</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-3" style="margin-top: 10px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="bezel"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select class="form-control bezel_dropdown"
                                                                                id="bezel_dropdown">
                                                                                <option value="0">Bezel</option>

                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-3" style="text-align: center;">
                                                                        <div class="imagePreview" id="image_back1"
                                                                            style="border-radius: 5px;">
                                                                            <img src="../assets/images/profile/sample.png"
                                                                                id="combo8" alt="Default Image"
                                                                                style="width:160px; height: 160px;"
                                                                                onclick="document.getElementById('uploadFile_8').click();">
                                                                            </button>
                                                                        </div>
                                                                        <label style="width: 100%; text-align: center;">
                                                                            Upload<input type="file"
                                                                                class="uploadFile img"
                                                                                value="Upload Photo"
                                                                                onchange="handleFileUpload(this, 'combo8')"
                                                                                id="uploadFile_8"
                                                                                style="width: 0px; height: 0px; overflow: hidden;">
                                                                        </label>
                                                                        <span id="watchfile2_error" style="color: red;"
                                                                            class="error"></span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12">

                                                                <div class="row">

                                                                    <div class="col-3" style="margin-top: 20px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="caseback"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select
                                                                                class="form-control caseback_dropdown"
                                                                                id="caseback_dropdown">
                                                                                <option value="0">Caseback</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-3" style="margin-top: 20px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="chronocase"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select
                                                                                class="form-control chronocase_dropdown"
                                                                                id="chronocase_dropdown">
                                                                                <option value="0">Chronocase</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-3" style="margin-top: 20px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="crown"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select class="form-control crown_dropdown"
                                                                                id="crown_dropdown">
                                                                                <option value="0">Crown</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="col-sm-12" style="margin-top: 50px;">
                                                                <div class="row">
                                                                    <div class="col-3" style="margin-top: 20px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="hand"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select class="form-control hand_dropdown"
                                                                                id="hand_dropdown">
                                                                                <option value="0">Hands</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-3" style="margin-top: 20px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="movement"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select
                                                                                class="form-control movement_dropdown"
                                                                                id="movement_dropdown">
                                                                                <option value="0">Movement</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-3" style="margin-top: 20px;">
                                                                        <div class="custom-select">
                                                                            <img src="../assets/images/profile/watch.png"
                                                                                id="front" class="second"
                                                                                alt="Default Image"
                                                                                style="width:70px; height: 70px; margin-left: 70px;">
                                                                            <select class="form-control second_dropdown"
                                                                                id="second_dropdown">
                                                                                <option value="0">Second</option>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- end8 -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row" style="margin-top: 2%;">
                                                <!-- <div class="col-sm-6">
                                                <h5>Combination Title</h5>
                                                <textarea class="form-control" id="combination"
                                                    style="max-height: 60px;" placeholder="Enter the Combination Title"
                                                    maxlength="40"></textarea>
                                            </div>

                                            <div class="col-sm-6">
                                                <h5>Combination Description</h5>
                                                <textarea class="form-control" id="comdescrip" style="min-height: 60px;"
                                                    placeholder="Enter the Combination Description"></textarea>
                                            </div> -->

                                                <div class="customizations">
                                                    <div class="customization-header"
                                                        onclick="toggleCustomizations(this)">
                                                        <h5><span>Watch Specifications</span></h5>
                                                        <span class="expand-btn">+</span>
                                                    </div>

                                                    <div class="customizations-content hidden">
                                                        <div class="col-sm-4">
                                                            <h5>Dial Size</h5>
                                                            <input class="form-control" id="dialsize"
                                                                placeholder="Enter the Dial Size in MM" />
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <h5>Colour</h5>
                                                            <input class="form-control" id="color"
                                                                placeholder="Enter the Watch Colour" />
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <h5>Weight In Grams</h5>
                                                            <input class="form-control" id="weight"
                                                                placeholder="Enter Weight In Grams" />
                                                        </div>


                                                        <div class="col-sm-4">
                                                            <h5>Body Type</h5>
                                                            <input class="form-control" id="bodytype"
                                                                placeholder="Enter the Body Type" />

                                                        </div>
                                                        <div class="col-sm-4">
                                                            <h5>Brand</h5>
                                                            <input class="form-control" id="Brand"
                                                                placeholder="Enter the Watch Brand" />
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <h5>Batteries Included</h5>
                                                            <div class="custom-select">
                                                                <select class="form-control" id="battery">
                                                                    <option value="0">Select</option>
                                                                    <option value="1">Yes</option>
                                                                    <option value="2">No</option>
                                                                </select>
                                                            </div>
                                                        </div>


                                                        <div class="col-sm-4">
                                                            <h5>Year Of Manufacture</h5>
                                                            <input class="form-control" id="year"
                                                                placeholder="Enter the Manufactured Year" />

                                                        </div>
                                                        <div class="col-sm-4">
                                                            <h5>Warranty Period In Months</h5>
                                                            <input class="form-control" id="warranty"
                                                                placeholder="Enter the Warranty Period in Months" />
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <h5>Item Code</h5>
                                                            <input class="form-control" id="itemcode"
                                                                placeholder="Enter the Item Code" />
                                                        </div>


                                                        <div class="col-sm-4">
                                                            <h5>Display Type</h5>
                                                            <div class="custom-select">
                                                                <select class="form-control" id="displaytype">
                                                                    <option value="0">Select</option>
                                                                    <option value="1">Analog</option>
                                                                    <option value="2">Digital</option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <h5>Water Resistant</h5>
                                                            <div class="custom-select">
                                                                <select class="form-control" id="water">
                                                                    <option value="0">Select</option>
                                                                    <option value="1">Yes</option>
                                                                    <option value="2">No</option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <h5>Shape</h5>
                                                            <input class="form-control" id="shape"
                                                                placeholder="Enter Your Watch Shape" />
                                                        </div>


                                                        <div class="col-sm-4">
                                                            <h5>Inside the Box</h5>
                                                            <input class="form-control" id="insidebox"
                                                                placeholder="Enter what's Inside the Box" />
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <h5>IP Rating</h5>
                                                            <input class="form-control" id="iprating"
                                                                placeholder="Enter IP Rating" />
                                                        </div>

                                                        <div class="col-sm-4">
                                                            <h5>Delivery Fee</h5>
                                                            <input class="form-control" id="deliveryfee"
                                                                placeholder="Enter Delivery Fee" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <!--Image Upload Field Here-->


                                            <h5 style="margin-left: 40px; margin-top: 40px; ">Upload Final Watch Images
                                            </h5>
                                            <div class="row" style="margin-top: 20px;">
                                                <div class="col-sm-2 imgUp">
                                                    <div class="imagePreview" id="image_back1"
                                                        style="border-radius: 5px;">
                                                        <img src="../assets/images/profile/sample.png" id="front1"
                                                            alt="Default Image" style="width:160px; height: 160px;"
                                                            onclick="document.getElementById('watchimg1').click();">
                                                        </button>
                                                    </div>
                                                    <label style="width: 100%; text-align: center;">
                                                        Upload<input type="file" class="uploadFile img"
                                                            value="Upload Photo"
                                                            onchange="handleFileUpload(this, 'front1')" id="watchimg1"
                                                            style="width: 0px; height: 0px; overflow: hidden;">
                                                    </label>
                                                    <span id="watchfile2_error" style="color: red;"watchimg2
                                                        class="error"></span>
                                                </div>
                                                <!-- col-2 -->
                                                <!-- <i class="fa fa-plus imgAdd"></i> -->
                                                <div class="col-sm-2 imgUp">
                                                    <div class="imagePreview" style="border-radius: 5px;">
                                                        <img src="../assets/images/profile/sample.png" id="back1"
                                                            alt="Default Image" style="width:160px; height: 160px;"
                                                            onclick="document.getElementById('').click();">
                                                    </div>
                                                    <label style="width: 100%; text-align: center;">
                                                        Upload<input type="file" class="uploadFile img"
                                                            value="Upload Photo"
                                                            onchange="handleFileUpload(this, 'back1')" id="watchimg2"
                                                            style="width: 0px; height: 0px; overflow: hidden;">
                                                    </label>
                                                    <span id="watchfile3_error" style="color: red;"
                                                        class="error"></span>
                                                </div>
                                                <!-- col-2 -->
                                                <!-- <i class="fa fa-plus imgAdd"></i> -->
                                                <div class="col-sm-2 imgUp">
                                                    <div class="imagePreview" style="border-radius: 5px;">
                                                        <img src="../assets/images/profile/sample.png"
                                                            alt="Default Image" id="down1"
                                                            style="width:160px; height: 160px;"
                                                            onclick="document.getElementById('watchimg3').click();">
                                                    </div>
                                                    <label style="width: 100%; text-align: center;">
                                                        Upload<input type="file" class="uploadFile img"
                                                            value="Upload Photo"
                                                            onchange="handleFileUpload(this, 'down1')" id="watchimg3"
                                                            style="width: 0px; height: 0px; overflow: hidden;">
                                                    </label>
                                                    <span id="watchfile4_error" style="color: red;"
                                                        class="error"></span>
                                                </div>
                                                <!-- col-2 -->
                                                <!-- <i class="fa fa-plus imgAdd"></i> -->
                                                <div class="col-sm-2 imgUp">
                                                    <div class="imagePreview" style="border-radius: 5px;">
                                                        <img src="../assets/images/profile/sample.png"
                                                            alt="Default Image" id="up1"
                                                            style="width:160px; height: 160px;"
                                                            onclick="document.getElementById('watchimg4').click();">

                                                    </div>
                                                    <label style="width: 100%; text-align: center;">
                                                        Upload<input type="file" class="uploadFile img"
                                                            value="Upload Photo"
                                                            onchange="handleFileUpload(this, 'up1')" id="watchimg4"
                                                            style="width: 0px; height: 0px; overflow: hidden;">
                                                    </label>
                                                    <span id="watchfile5_error" style="color: red;"
                                                        class="error"></span>
                                                </div>
                                                <!-- col-2 -->
                                                <!-- <i class="fa fa-plus imgAdd"></i> -->
                                                <div class="col-sm-2 imgUp">
                                                    <div class="imagePreview" style="border-radius: 5px;">
                                                        <img src="../assets/images/profile/sample.png"
                                                            alt="Default Image" id="left1"
                                                            style="width:160px; height: 160px;"
                                                            onclick="document.getElementById('watchimg5').click();">

                                                    </div>
                                                    <label style="width: 100%; text-align: center;">
                                                        Upload<input type="file" class="uploadFile img"
                                                            value="Upload Photo"
                                                            onchange="handleFileUpload(this, 'left1')" id="watchimg5"
                                                            style="width: 0px; height: 0px; overflow: hidden;">
                                                    </label>
                                                    <span id="watchfile6_error" style="color: red;"
                                                        class="error"></span>
                                                </div>
                                                <div class="col-sm-2 imgUp">
                                                    <div class="imagePreview" style="border-radius: 5px;">
                                                        <img src="../assets/images/profile/sample.png"
                                                            alt="Default Image" id="right1"
                                                            style="width:160px; height: 160px;"
                                                            onclick="document.getElementById('watchimg6').click();">

                                                    </div>
                                                    <label style="width: 100%; text-align: center;">
                                                        Upload<input type="file" class="uploadFile img"
                                                            value="Upload Photo"
                                                            onchange="handleFileUpload(this, 'right1')" id="watchimg6"
                                                            style="width: 0px; height: 0px; overflow: hidden;">
                                                    </label>
                                                    <span id="watchfile1_error" style="color: red;"
                                                        class="error"></span>
                                                </div>
                                            </div>


                                            <!--Submit Button Here-->

                                            <div style="display: flex;">
                                                <button type="button" class="btn btn-primary"
                                                    style="margin-top: 20px; margin-left: 450px;"
                                                    onclick="window.location.href ='./edit-watch.html'">
                                                    Cancel
                                                </button>
                                                <button type="button" class="btn btn-primary"
                                                    style="margin-top: 20px; margin-left: 10px;"
                                                    onclick="validateForm()">
                                                    Save
                                                </button>
                                            </div>
                                </form>
                            </div>
                        </div>

                        <script src="../assets/libs/jquery/dist/jquery.min.js"></script>
                        <script src="../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
                        <script src="../assets/js/sidebarmenu.js"></script>
                        <script src="../assets/js/app.min.js"></script>
                        <script src="../assets/libs/simplebar/dist/simplebar.js"></script>


                        <script>
                            function handleFileUpload(input, imageId) {
                                var file = input.files[0];
                                var image = document.getElementById(imageId);
                                var errorSpan = document.getElementById(imageId + '_error');

                                if (file) {
                                    if (file.type.match('image.*')) {
                                        var reader = new FileReader();
                                        reader.onload = function (e) {
                                            image.src = e.target.result;

                                        };
                                        reader.readAsDataURL(file);
                                    } else {
                                        image.src = '';
                                        errorSpan.textContent = 'Please upload an image file.';
                                        input.value = '';
                                    }
                                } else {
                                    image.src = '';
                                    errorSpan.textContent = 'No file selected.';
                                }
                            }
                        </script>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let addlChrgs;
        let dialDetails = []
        let bezelDetails = []
        let casebackDetails = []
        let strapDetails = []
        let chronocaseDetails = []
        let crownDetails = []
        let handDetails = []
        let movementDetails = []
        let secondDetails = []

        const getWatchData = () => {
            const apiUrl = '../api/get-customizations.php';
            const body = JSON.stringify({
                "token": window.localStorage.getItem("authToken")
            });

            fetch(apiUrl, {
                method: "POST",
                body: body,
                headers: {
                    "Content-Type": "application/json"
                }
            })
                .then(res => res.json())
                .then(data => {
                    if (data.success) {
                        // Populate the dropdowns with corresponding data
                        populateDropdown('dial_dropdown', 'dial', data.data.dial, 'did', 'image_url');
                        populateDropdown('strap_dropdown', 'strap', data.data.strap, 'sid', 'image_url');
                        populateDropdown('bezel_dropdown', 'bezel', data.data.bezel, 'bid', 'image_url');
                        populateDropdown('caseback_dropdown', 'caseback', data.data.caseback, 'cid', 'image_url');
                        populateDropdown('chronocase_dropdown', 'chronocase', data.data.chronocase, 'cid', 'image_url');
                        populateDropdown('crown_dropdown', 'crown', data.data.crowns, 'cid', 'image_url');
                        populateDropdown('hand_dropdown', 'hand', data.data.hands, 'hid', 'image_url');
                        populateDropdown('movement_dropdown', 'movement', data.data.movement, 'mid', 'image_url');
                        populateDropdown('second_dropdown', 'second', data.data.seconds, 'sid', 'image_url');
                    } else {
                        console.error(data.msg);
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        };

        // Function to populate a dropdown with data and handle image change
        const populateDropdown = (dropdownClass, imgClass, items, idField, imageField) => {
            const dropdownElements = document.querySelectorAll(`.${dropdownClass}`);
            const imgElements = document.querySelectorAll(`.${imgClass}`);

            dropdownElements.forEach((dropdownElement, index) => {
                items.forEach(item => {
                    const option = document.createElement('option');
                    option.value = item[idField];
                    option.textContent = item.name;
                    option.dataset.imageUrl = item[imageField]; // Store the image URL in a data attribute
                    dropdownElement.appendChild(option);
                });

                // Add event listener to change the image on selection
                dropdownElement.addEventListener('change', function () {
                    const selectedOption = this.options[this.selectedIndex];
                    const imgElement = imgElements[index];
                    imgElement.src = selectedOption.dataset.imageUrl; // Update the image source
                });
            });
        };

        getWatchData();


        // function validateForm() {
        //     let isValid = true;
        //     let errorMessage = '';

        //     // Validate dropdowns (Example for one, repeat for all)
        //     let dialDropdown = document.getElementById("dial_dropdown").value;
        //     let strapDropdown = document.getElementById("strap_dropdown").value;
        //     let bezelDropdown = document.getElementById("bezel_dropdown").value;
        //     let casebackDropdown = document.getElementById("caseback_dropdown").value;
        //     let chronocaseDropdown = document.getElementById("chronocase_dropdown").value;
        //     let crownDropdown = document.getElementById("crown_dropdown").value;
        //     let handDropdown = document.getElementById("hand_dropdown").value;
        //     let movementDropdown = document.getElementById("movement_dropdown").value;
        //     let secondDropdown = document.getElementById("second_dropdown").value;

        //     const dialsize = document.getElementById('dialsize').value.trim();
        //     const color = document.getElementById('color').value.trim();
        //     const weight = document.getElementById('weight').value.trim();
        //     const bodytype = document.getElementById('bodytype').value.trim();
        //     const Brand = document.getElementById('Brand').value.trim();
        //     const battery = document.getElementById('battery').value.trim();
        //     const yearofmanufacture = document.getElementById('year').value.trim();
        //     const warranty = document.getElementById('warranty').value.trim();
        //     const itemcode = document.getElementById('itemcode').value.trim();
        //     const displaytype = document.getElementById('displaytype').value.trim();
        //     const waterresistant = document.getElementById('water').value;
        //     const shape = document.getElementById('shape').value.trim();
        //     const iprating = document.getElementById('iprating').value.trim();
        //     const deliveryfee = document.getElementById('deliveryfee').value.trim();
        //     const insidebox = document.getElementById('insidebox').value.trim();


        //     // Validate combos
        //     let combo1 = document.getElementById("combo1").value;
        //     let combo2 = document.getElementById("combo2").value;
        //     let combo3 = document.getElementById("combo3").value;
        //     let combo4 = document.getElementById("combo4").value;
        //     let combo5 = document.getElementById("combo5").value;
        //     let combo6 = document.getElementById("combo6").value;
        //     let combo7 = document.getElementById("combo7").value;
        //     let combo8 = document.getElementById("combo8").value;

        //     // Simple validation example (repeat this for all fields)
        //     if (dialDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a dial.\n";
        //     }

        //     if (strapDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a strap.\n";
        //     }

        //     if (bezelDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a bezel.\n";
        //     }

        //     if (casebackDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a caseback.\n";
        //     }

        //     if (chronocaseDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a chronocase.\n";
        //     }

        //     if (crownDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a crown.\n";
        //     }

        //     if (handDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a hand.\n";
        //     }

        //     if (movementDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a movement.\n";
        //     }

        //     if (secondDropdown === "") {
        //         isValid = false;
        //         errorMessage += "Please select a second.\n";
        //     }

        //     // Repeat similar checks for the rest of the dropdowns and combos

        //     if (!isValid) {
        //         alert(errorMessage);
        //         return false; // Prevent form submission if validation fails
        //     }

        //     // If validation passes, proceed to send the form data via AJAX
        //     let formData = new FormData();

        //     // Append all dropdowns and combos to formData
        //     formData.append("dial_dropdown_8", dialDropdown);
        //     formData.append("strap_dropdown_8", strapDropdown);
        //     formData.append("bezel_dropdown_8", bezelDropdown);
        //     formData.append("caseback_dropdown_8", casebackDropdown);
        //     formData.append("chronocase_dropdown_8", chronocaseDropdown);
        //     formData.append("crown_dropdown_8", crownDropdown);
        //     formData.append("hand_dropdown_8", handDropdown);
        //     formData.append("movement_dropdown_8", movementDropdown);
        //     formData.append("second_dropdown_8", secondDropdown);
        //     formData.append("combo1", combo1);
        //     formData.append("combo2", combo2);
        //     formData.append("combo3", combo3);
        //     formData.append("combo4", combo4);
        //     formData.append("combo5", combo5);
        //     formData.append("combo6", combo6);
        //     formData.append("combo7", combo7);
        //     formData.append("combo8", combo8);

        //     formData.append("dial_size_8", dialsize);
        //     formData.append("color_8", color);
        //     formData.append("display_type_8", displaytype);
        //     formData.append("weight_8", weight);
        //     formData.append("body_type_8", bodytype);
        //     formData.append("brand_8", Brand);
        //     formData.append("batteries_included_8", battery);
        //     formData.append("year_of_manufacture_8", yearofmanufacture);
        //     formData.append("warranty_period_8", warranty);
        //     formData.append("item_code_8", itemcode);
        //     formData.append("water_resistant_8", waterresistant);
        //     formData.append("ip_rating_8", iprating);
        //     formData.append("delivery_fee_8", deliveryfee);
        //     formData.append("shape_8", shape);
        //     formData.append("inside_the_box_8", insidebox);

        //     // Add file inputs based on the IDs you provided
        //     let fileInputs = {
        //         "image_front": "watchimg1",
        //         "image_back": "watchimg2",
        //         "image_down": "watchimg3",
        //         "image_up": "watchimg4",
        //         "image_left": "watchimg5",
        //         "image_right": "watchimg6"
        //     };

        //     for (let [fieldName, inputId] of Object.entries(fileInputs)) {
        //         let fileInput = document.getElementById(inputId);
        //         if (fileInput && fileInput.files.length > 0) {
        //             formData.append(fieldName, fileInput.files[0]);
        //         }
        //     }

        //     // Send the form data via AJAX to the PHP API
        //     fetch('../api/add-watch-combo.php', { // Replace with your actual API endpoint
        //         method: 'POST',
        //         body: formData
        //     })
        //         .then(response => response.json())
        //         .then(data => {
        //             if (data.success) {
        //                 alert('Watch and watch faces saved successfully!');
        //                 // Optionally, reset the form or redirect to another page
        //             } else {
        //                 alert('Failed to save: ' + data.message);
        //             }
        //         })
        //         .catch(error => {
        //             console.error('Error:', error);
        //             alert('An error occurred while saving the watch.');
        //         });

        //     return false;  // Prevent default form submission
        // }


        // function updateWatchDetails() {
        //     const watchName = document.getElementById('watchname').value.trim();
        //     const watchPrice = parseFloat(document.getElementById('watchprice').value.trim());
        //     const watchModel = document.getElementById('watchmodel').value.trim();
        //     const watchPercentage = parseFloat(document.getElementById("servicePercentage").value.trim());

        //     let combinationTitle = document.getElementById("combination").value;
        //     let combinationDescription = document.getElementById("comdescrip").value;
        //     let dialDropdown = document.getElementById("dial_dropdown").value;
        //     let strapDropdown = document.getElementById("strap_dropdown").value;
        //     let bezelDropdown = document.getElementById("bezel_dropdown").value;
        //     let casebackDropdown = document.getElementById("caseback_dropdown").value;
        //     let chronocaseDropdown = document.getElementById("chronocase_dropdown").value;
        //     let crownDropdown = document.getElementById("crown_dropdown").value;
        //     let handDropdown = document.getElementById("hand_dropdown").value;
        //     let movementDropdown = document.getElementById("movement_dropdown").value;
        //     let secondDropdown = document.getElementById("second_dropdown").value;

        //     // let pricePercentage = 0;
        //     let totalCost = 0;
        //     totalCost += watchPrice;


        //     if (dialDropdown != "0") {
        //         let newArray = dialDetails.filter(function (el) {
        //             return el.value == dialDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (strapDropdown != "0") {
        //         let newArray = strapDetails.filter(function (el) {
        //             return el.value == strapDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (bezelDropdown != "0") {
        //         let newArray = bezelDetails.filter(function (el) {
        //             return el.value == bezelDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (casebackDropdown != "0") {
        //         let newArray = casebackDetails.filter(function (el) {
        //             return el.value == casebackDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (chronocaseDropdown != "0") {
        //         let newArray = chronocaseDetails.filter(function (el) {
        //             return el.value == chronocaseDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (crownDropdown != "0") {
        //         let newArray = crownDetails.filter(function (el) {
        //             return el.value == crownDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (handDropdown != "0") {
        //         let newArray = handDetails.filter(function (el) {
        //             return el.value == handDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (movementDropdown != "0") {
        //         let newArray = movementDetails.filter(function (el) {
        //             return el.value == movementDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     if (secondDropdown != "0") {
        //         let newArray = secondDetails.filter(function (el) {
        //             return el.value == secondDropdown;
        //         });

        //         totalCost += newArray[0].price
        //     }

        //     const dialsize = document.getElementById('dialsize').value.trim();
        //     const color = document.getElementById('color').value.trim();
        //     const weight = document.getElementById('weight').value.trim();
        //     const bodytype = document.getElementById('bodytype').value.trim();
        //     const Brand = document.getElementById('Brand').value.trim();
        //     const battery = document.getElementById('battery').value.trim();
        //     const yearofmanufacture = document.getElementById('year').value.trim();
        //     const warranty = document.getElementById('warranty').value.trim();
        //     const itemcode = document.getElementById('itemcode').value.trim();
        //     const displaytype = document.getElementById('displaytype').value.trim();
        //     const waterresistant = document.getElementById('water').value;
        //     const shape = document.getElementById('shape').value.trim();
        //     const iprating = document.getElementById('iprating').value.trim();
        //     const deliveryfee = document.getElementById('deliveryfee').value.trim();
        //     const insidebox = document.getElementById('insidebox').value.trim();

        //     const url = '../api/add-watch-face.php';
        //     const body = new FormData();
        //     body.append("dial_id", dialDropdown)
        //     body.append("strap_id", strapDropdown)
        //     body.append("chronocase_id", chronocaseDropdown)
        //     body.append("movement_id", movementDropdown)
        //     body.append("bezel_id", bezelDropdown)
        //     body.append("hands_id", handDropdown)
        //     body.append("seconds_id", secondDropdown)
        //     body.append("crown_id", crownDropdown)
        //     body.append("caseback_id", casebackDropdown)
        //     body.append("wid", window.localStorage.getItem("wid"))
        //     body.append("price", (totalCost + (totalCost * (watchPercentage / 100))).toFixed(2));
        //     body.append("description", combinationDescription.trim())
        //     body.append("watch_face_name", combinationTitle.trim())
        //     body.append("token", window.localStorage.getItem("authToken"))
        //     body.append("image_front", document.getElementById("watchfile2").files[0])
        //     body.append("image_back", document.getElementById("watchfile3").files[0])
        //     body.append("image_up", document.getElementById("watchfile4").files[0])
        //     body.append("image_down", document.getElementById("watchfile5").files[0])
        //     body.append("image_left", document.getElementById("watchfile6").files[0])
        //     body.append("image_right", document.getElementById("watchfile1").files[0])
        //     body.append("user_id", "0")
        //     body.append("dialSize", dialsize)
        //     body.append("color", color)
        //     body.append("weight", weight)
        //     body.append("bodyType", bodytype)
        //     body.append("brand", Brand)
        //     body.append("batteriesIncluded", battery)
        //     body.append("yearOfManufacture", yearofmanufacture)
        //     body.append("warrantyPeriod", warranty)
        //     body.append("itemCode", itemcode)
        //     body.append("displayType", displaytype)
        //     body.append("waterResistant", waterresistant)
        //     body.append("ipRating", iprating)
        //     body.append("shape", shape)
        //     body.append("insideTheBox", insidebox)
        //     body.append("deliveryFee", deliveryfee)


        //     fetch(url, {
        //         method: "POST",
        //         body: body,
        //     },
        //     ).then(response => {
        //         return response.json();
        //     }).then(data => {
        //         if (data.success) {
        //             alert(data.msg);
        //             window.location.href = "./view-watch.html"
        //         }
        //         else {
        //             alert(data.msg);
        //         }
        //     }).catch(err => {
        //         console.log('err')
        //         alert("error")
        //     });
        // }


        function validateForm() {
            let isValid = true;
            let errorMessage = '';

            // Validate and collect data for Combo 1 (dial, strap)
            let dialDropdown1 = document.getElementById("dial_dropdown_1").value;
            let strapDropdown1 = document.getElementById("strap_dropdown_1").value;
            let combo1 = document.getElementById("combo1");

            if (dialDropdown1 === "" || strapDropdown1 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 1.\n";
            }

            // Validate and collect data for Combo 2 (dial, strap, bezel)
            let dialDropdown2 = document.getElementById("dial_dropdown_2").value;
            let strapDropdown2 = document.getElementById("strap_dropdown_2").value;
            let bezelDropdown2 = document.getElementById("bezel_dropdown_2").value;
            let combo2 = document.getElementById("combo2");

            if (dialDropdown2 === "" || strapDropdown2 === "" || bezelDropdown2 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 2.\n";
            }

            // Validate and collect data for Combo 3 (dial, strap, bezel, caseback)
            let dialDropdown3 = document.getElementById("dial_dropdown_3").value;
            let strapDropdown3 = document.getElementById("strap_dropdown_3").value;
            let bezelDropdown3 = document.getElementById("bezel_dropdown_3").value;
            let casebackDropdown3 = document.getElementById("caseback_dropdown_3").value;
            let combo3 = document.getElementById("combo3");

            if (dialDropdown3 === "" || strapDropdown3 === "" || bezelDropdown3 === "" || casebackDropdown3 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 3.\n";
            }

            // Validate and collect data for Combo 4 (dial, strap, bezel, caseback, chronocase)
            let dialDropdown4 = document.getElementById("dial_dropdown_4").value;
            let strapDropdown4 = document.getElementById("strap_dropdown_4").value;
            let bezelDropdown4 = document.getElementById("bezel_dropdown_4").value;
            let casebackDropdown4 = document.getElementById("caseback_dropdown_4").value;
            let chronocaseDropdown4 = document.getElementById("chronocase_dropdown_4").value;
            let combo4 = document.getElementById("combo4");

            if (dialDropdown4 === "" || strapDropdown4 === "" || bezelDropdown4 === "" || casebackDropdown4 === "" || chronocaseDropdown4 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 4.\n";
            }

            // Validate and collect data for Combo 5 (dial, strap, bezel, caseback, chronocase, crown)
            let dialDropdown5 = document.getElementById("dial_dropdown_5").value;
            let strapDropdown5 = document.getElementById("strap_dropdown_5").value;
            let bezelDropdown5 = document.getElementById("bezel_dropdown_5").value;
            let casebackDropdown5 = document.getElementById("caseback_dropdown_5").value;
            let chronocaseDropdown5 = document.getElementById("chronocase_dropdown_5").value;
            let crownDropdown5 = document.getElementById("crown_dropdown_5").value;
            let combo5 = document.getElementById("combo5");

            if (dialDropdown5 === "" || strapDropdown5 === "" || bezelDropdown5 === "" || casebackDropdown5 === "" || chronocaseDropdown5 === "" || crownDropdown5 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 5.\n";
            }

            // Validate and collect data for Combo 6 (dial, strap, bezel, caseback, chronocase, crown, hands)
            let dialDropdown6 = document.getElementById("dial_dropdown_6").value;
            let strapDropdown6 = document.getElementById("strap_dropdown_6").value;
            let bezelDropdown6 = document.getElementById("bezel_dropdown_6").value;
            let casebackDropdown6 = document.getElementById("caseback_dropdown_6").value;
            let chronocaseDropdown6 = document.getElementById("chronocase_dropdown_6").value;
            let crownDropdown6 = document.getElementById("crown_dropdown_6").value;
            let handDropdown6 = document.getElementById("hand_dropdown_6").value;
            let combo6 = document.getElementById("combo6");

            if (dialDropdown6 === "" || strapDropdown6 === "" || bezelDropdown6 === "" || casebackDropdown6 === "" || chronocaseDropdown6 === "" || crownDropdown6 === "" || handDropdown6 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 6.\n";
            }

            // Validate and collect data for Combo 7 (dial, strap, bezel, caseback, chronocase, crown, hands, movement)
            let dialDropdown7 = document.getElementById("dial_dropdown_7").value;
            let strapDropdown7 = document.getElementById("strap_dropdown_7").value;
            let bezelDropdown7 = document.getElementById("bezel_dropdown_7").value;
            let casebackDropdown7 = document.getElementById("caseback_dropdown_7").value;
            let chronocaseDropdown7 = document.getElementById("chronocase_dropdown_7").value;
            let crownDropdown7 = document.getElementById("crown_dropdown_7").value;
            let handDropdown7 = document.getElementById("hand_dropdown_7").value;
            let movementDropdown7 = document.getElementById("movement_dropdown_7").value;
            let combo7 = document.getElementById("combo7");

            if (dialDropdown7 === "" || strapDropdown7 === "" || bezelDropdown7 === "" || casebackDropdown7 === "" || chronocaseDropdown7 === "" || crownDropdown7 === "" || handDropdown7 === "" || movementDropdown7 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 7.\n";
            }

            // Validate dropdowns for Combo 8 (Example for one, repeat for all)
            let dialDropdown8 = document.getElementById("dial_dropdown").value;
            let strapDropdown8 = document.getElementById("strap_dropdown").value;
            let bezelDropdown8 = document.getElementById("bezel_dropdown").value;
            let casebackDropdown8 = document.getElementById("caseback_dropdown").value;
            let chronocaseDropdown8 = document.getElementById("chronocase_dropdown").value;
            let crownDropdown8 = document.getElementById("crown_dropdown").value;
            let handDropdown8 = document.getElementById("hand_dropdown").value;
            let movementDropdown8 = document.getElementById("movement_dropdown").value;
            let secondDropdown8 = document.getElementById("second_dropdown").value;

            // Additional fields for Combo 8
            let combo8 = document.getElementById("combo8"); // Assuming combo8 is an ID in your form

            if (dialDropdown8 === "" || strapDropdown8 === "" || bezelDropdown8 === "" || casebackDropdown8 === "" || chronocaseDropdown8 === "" || crownDropdown8 === "" || handDropdown8 === "" || movementDropdown8 === "" || secondDropdown8 === "") {
                isValid = false;
                errorMessage += "Please fill out all fields for Combo 8.\n";
            }


            // Additional form fields for Combo 8
            const dialsize = document.getElementById('dialsize').value.trim();
            const color = document.getElementById('color').value.trim();
            const weight = document.getElementById('weight').value.trim();
            const bodytype = document.getElementById('bodytype').value.trim();
            const Brand = document.getElementById('Brand').value.trim();
            const battery = document.getElementById('battery').value.trim();
            const yearofmanufacture = document.getElementById('year').value.trim();
            const warranty = document.getElementById('warranty').value.trim();
            const itemcode = document.getElementById('itemcode').value.trim();
            const displaytype = document.getElementById('displaytype').value.trim();
            const waterresistant = document.getElementById('water').value;
            const shape = document.getElementById('shape').value.trim();
            const iprating = document.getElementById('iprating').value.trim();
            const deliveryfee = document.getElementById('deliveryfee').value.trim();
            const insidebox = document.getElementById('insidebox').value.trim();

            if (!isValid) {
                alert(errorMessage);
                return false; // Prevent form submission if validation fails
            }

            // If validation passes, proceed to send the form data via AJAX
            let formData = new FormData();

            // Append data for each combo
            formData.append("dial_dropdown_1", dialDropdown1);
            formData.append("strap_dropdown_1", strapDropdown1);
            formData.append("combo1", combo1);

            formData.append("dial_dropdown_2", dialDropdown2);
            formData.append("strap_dropdown_2", strapDropdown2);
            formData.append("bezel_dropdown_2", bezelDropdown2);
            formData.append("combo2", combo2);

            formData.append("dial_dropdown_3", dialDropdown3);
            formData.append("strap_dropdown_3", strapDropdown3);
            formData.append("bezel_dropdown_3", bezelDropdown3);
            formData.append("caseback_dropdown_3", casebackDropdown3);
            formData.append("combo3", combo3);

            formData.append("dial_dropdown_4", dialDropdown4);
            formData.append("strap_dropdown_4", strapDropdown4);
            formData.append("bezel_dropdown_4", bezelDropdown4);
            formData.append("caseback_dropdown_4", casebackDropdown4);
            formData.append("chronocase_dropdown_4", chronocaseDropdown4);
            formData.append("combo4", combo4);

            formData.append("dial_dropdown_5", dialDropdown5);
            formData.append("strap_dropdown_5", strapDropdown5);
            formData.append("bezel_dropdown_5", bezelDropdown5);
            formData.append("caseback_dropdown_5", casebackDropdown5);
            formData.append("chronocase_dropdown_5", chronocaseDropdown5);
            formData.append("crown_dropdown_5", crownDropdown5);
            formData.append("combo5", combo5);

            formData.append("dial_dropdown_6", dialDropdown6);
            formData.append("strap_dropdown_6", strapDropdown6);
            formData.append("bezel_dropdown_6", bezelDropdown6);
            formData.append("caseback_dropdown_6", casebackDropdown6);
            formData.append("chronocase_dropdown_6", chronocaseDropdown6);
            formData.append("crown_dropdown_6", crownDropdown6);
            formData.append("hand_dropdown_6", handDropdown6);
            formData.append("combo6", combo6);

            formData.append("dial_dropdown_7", dialDropdown7);
            formData.append("strap_dropdown_7", strapDropdown7);
            formData.append("bezel_dropdown_7", bezelDropdown7);
            formData.append("caseback_dropdown_7", casebackDropdown7);
            formData.append("chronocase_dropdown_7", chronocaseDropdown7);
            formData.append("crown_dropdown_7", crownDropdown7);
            formData.append("hand_dropdown_7", handDropdown7);
            formData.append("movement_dropdown_7", movementDropdown7);
            formData.append("combo7", combo7);

            formData.append("dial_dropdown_8", dialDropdown8);
            formData.append("strap_dropdown_8", strapDropdown8);
            formData.append("bezel_dropdown_8", bezelDropdown8);
            formData.append("caseback_dropdown_8", casebackDropdown8);
            formData.append("chronocase_dropdown_8", chronocaseDropdown8);
            formData.append("crown_dropdown_8", crownDropdown8);
            formData.append("hand_dropdown_8", handDropdown8);
            formData.append("movement_dropdown_8", movementDropdown8);
            formData.append("second_dropdown_8", secondDropdown8);
            formData.append("combo8", combo8);

            formData.append("dial_size_8", dialsize);
            formData.append("color_8", color);
            formData.append("display_type_8", displaytype);
            formData.append("weight_8", weight);
            formData.append("body_type_8", bodytype);
            formData.append("brand_8", Brand);
            formData.append("batteries_included_8", battery);
            formData.append("year_of_manufacture_8", yearofmanufacture);
            formData.append("warranty_period_8", warranty);
            formData.append("item_code_8", itemcode);
            formData.append("water_resistant_8", waterresistant);
            formData.append("ip_rating_8", iprating);
            formData.append("delivery_fee_8", deliveryfee);
            formData.append("shape_8", shape);
            formData.append("inside_the_box_8", insidebox);

            // Add file inputs for Combo 8
            let fileInputs = {
                "image_front": "watchimg1",
                "image_back": "watchimg2",
                "image_down": "watchimg3",
                "image_up": "watchimg4",
                "image_left": "watchimg5",
                "image_right": "watchimg6"
            };

            for (let [fieldName, inputId] of Object.entries(fileInputs)) {
                let fileInput = document.getElementById(inputId);
                if (fileInput && fileInput.files.length > 0) {
                    formData.append(fieldName, fileInput.files[0]);
                }
            }

            fetch('../api/add-watch-combo.php', {
                method: 'POST',
                body: formData
            })
                .then(response => response.text()) // Change to text to see the raw response
                .then(text => {
                    try {
                        const data = JSON.parse(text); // Try parsing the response as JSON
                        if (data.success) {
                            alert('Watch and watch faces saved successfully!');
                            // Optionally, reset the form or redirect to another page
                        } else {
                            alert('Failed to save: ' + data.message);
                        }
                    } catch (error) {
                        console.error('Error parsing JSON:', error, text);
                        alert('An error occurred: Invalid JSON received from server.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while saving the watch.');
                });
        }




        function toggleCustomizations(header) {
            var content = header.nextElementSibling;
            var expandBtn = header.querySelector('.expand-btn');

            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                expandBtn.textContent = '-';
                content.style.maxHeight = content.scrollHeight + 'px'; // Expand smoothly
            } else {
                content.classList.add('hidden');
                expandBtn.textContent = '+';
                content.style.maxHeight = null; // Collapse smoothly
            }
        }


    </script>
</body>

</html>